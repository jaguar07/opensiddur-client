<div>
    <div class="toolbar navbar navbar-inverse nav-collapse">
        <div class="container-fluid">
          <p class="navbar-text">{{ SourceService.content.biblStruct.monogr.title_asArray[0].__text | truncate:30 }}</p>
          <div class="btn-toolbar navbar-btn">
              <div class="btn-group navbar-btn">
                  <button class="btn btn-primary" 
                      data-ng-disabled="!editor.loggedIn"
                      data-ng-click="editor.newButton()"
                      >New</button>
                  <button class="btn btn-primary" 
                      data-ng-click="DialogService.open('openDialog')"
                      >Open</button>
                  <button
                      class="btn btn-primary"
                      data-ng-class="{'btn-success' : sourcesForm.$pristine}" type="submit" 
                      data-ng-click="editor.saveDocument()"  
                      data-ng-disabled="sourcesForm.$invalid || sourcesForm.$pristine">{{saveButtonText()}}</button>
              </div>
              <div class="navbar-right navbar-btn">
                  <os-sharing-status relicense-disabled="1" chmod-disabled="1"></os-sharing-status>
              </div>
          </div>
        </div>
    </div>
    
    <div class="page-container container-fluid sources-editor" data-ng-show="SourceService.resource || editor.loggedIn">
        <div class="row">
            <div class="col-md-10 col-md-offset-1 alert alert-info text-center">
                <p>For <strong>printed works</strong>, the following information is <strong>required</strong>: 
                a main title, a publisher or distributor, and a publication date. 
                </p>
                <p>For <strong>online works</strong>, the following information is <strong>required</strong>: a main title, a distributor website title, a distributor URL, and an access date.</p>
                <p>The bibliographic entry can be saved only if the minimally required highlighted fields (<input class="input-mini" readonly="true" required="true" data-ng-model="editor.requiredExample"/>) are filled in and have valid data.</p>
            </div>
        </div>
        <div class="row sources-editor">
                <form name="sourcesForm"  class="form-horizontal col-md-offset-1" data-unsaved-warning-form="1">
                    <div class="form-group">
                        <label class="col-md-2" for="biblStruct._xmlLang">Primary language of this entry:</label>
                        <div class="col-md-2">
                          <select 
                              class="form-control"
                              name="biblStruct._xmlLang"
                              data-ng-model="SourceService.content.biblStruct['_xml:lang']" 
                              required="true"
                              data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-6" for="isAnalytic1">Is this entry for a <em>subset</em> of a book, such as an <em>article</em> or <em>chapter</em>, that has authors and/or editors who are different from the book or series?</label>
                        <div class="col-md-2">
                          <label class="radio-inline">
                              <input 
                                  type="radio"
                                  name="isAnalytic1"
                                  value="1"
                                  data-ng-model="SourceService.isAnalytic"
                                  />Yes
                          </label>
                          <label class="radio-inline">
                              <input 
                                  type="radio"
                                  name="isAnalytic2"
                                  value="0"
                                  data-ng-model="SourceService.isAnalytic"
                                  />No
                          </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-6" for="isSeries1">Is this entry for a book in a <em>series</em>?</label>
                        <div class="col-md-2">
                          <label class="radio-inline">
                              <input 
                                  type="radio"
                                  name="isSeries1"
                                  value="1"
                                  data-ng-model="SourceService.isSeries"
                                  />Yes
                          </label>
                          <label class="radio-inline">
                              <input 
                                  type="radio"
                                  name="isSeries2"
                                  value="0"
                                  data-ng-model="SourceService.isSeries"
                                  />No
                          </label>
                        </div>
                    </div>
                    <fieldset data-ng-show="SourceService.isAnalytic">
                        <legend>Section</legend>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.analytic.title_main">Section title:</label>
                            <div class="col-md-2">
                                <select
                                    class="form-control" 
                                    name="biblStruct.analytic.title_main_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[0]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.analytic.title_asArray[0].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control"
                                    name="biblStruct.analytic.title_main" 
                                    data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[0].__text"
                                    data-ng-required="SourceService.isAnalytic"
                                    placeholder="Main section title"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.analytic.title_sub">Section subtitle:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.analytic.title_sub_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[1]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.analytics.title_asArray[1].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.analytic.title_sub" data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[1].__text"
                                    placeholder="Section subtitle"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.analytic.title_alt">Alternate section title:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.analytic.title_alt_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[2]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.analytics.title_asArray[2].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.analytic.title_alt" data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[2].__text"
                                    placeholder="Alternate title (eg, translation)"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.analytic.title_alt_sub">Alternate section subtitle:</label>
                            <div class="col-md-2">
                              <select 
                                  class="form-control"
                                  name="biblStruct.analytic.title_alt_sub_xmlLang"
                                  data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[3]['_xml:lang']" 
                                  data-ng-required="SourceService.content.biblStruct.analytics.title_asArray[3].__text"
                                  data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.analytic.title_alt_sub" data-ng-model="SourceService.content.biblStruct.analytic.title_asArray[3].__text"
                                    placeholder="Alternate subtitle (eg, translation)"/>
                            </div>
                        </div>
                        <div data-os-array-input="SourceService.content.biblStruct.analytic.author_asArray" 
                            data-placeholder="Section Author"
                            data-label="Section authors"
                            data-name="biblStruct.analytic.author"
                            data-child="name"/>
                        <div data-os-array-input="SourceService.content.biblStruct.analytic.editor_asArray" 
                            data-placeholder="Section Editor"
                            data-label="Section Editors"
                            data-name="biblStruct.analytic.editor"
                            data-child="name"/>
                        <!-- responsibilities -->
                        <div class="form-group">
                            <label class="control-label col-md-offset-1" for="biblStruct.analytic.respStmt.name1">Additional Responsibilities for the section</label>
                        </div>
                        <div
                            data-ng-repeat="respStmt in SourceService.content.biblStruct.analytic.respStmt_asArray">
                            <div class="form-group" data-ng-show="$index == 0 || SourceService.content.biblStruct.analytic.respStmt_asArray[$index - 1].name.__text || respStmt.name.__text">
                                <div class="col-md-offset-2 col-md-2">
                                    <select class="form-control"
                                        name="biblStruct.analytic.respStmt.resp_key{{$index}}"
                                        data-ng-model="respStmt.resp._key"
                                        data-ng-required="respStmt.name.__text"
                                        data-ng-options="key as definition for (key, definition) in editor.supportedResponsibilities"
                                        data-ng-change="respStmt.resp.__text = editor.supportedResponsibilities[respStmt.resp._key]">
                                         <option value="">-- Responsibility --</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control"
                                        name="biblStruct.analytic.respStmt.name{{$index}}"
                                        data-ng-model="respStmt.name.__text"
                                        placeholder="Name"/>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <!-- monograph level -->
                    <fieldset>
                        <legend>This book</legend>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="biblStruct.monogr.title_main">Main title:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.monogr.title_main_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[0]['_xml:lang']" 
                                    required="true"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" 
                                    name="biblStruct.monogr.title_main"
                                    required="true"
                                    data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[0].__text"
                                    placeholder="Main title"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.title_sub">Main subtitle:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.monogr.title_sub_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[1]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.monogr.title_asArray[1].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.monogr.title_sub" data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[1].__text"
                                    placeholder="subtitle"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.title_alt">Alternate title:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.monogr.title_alt_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[2]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.monogr.title_asArray[2].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.monogr.title_alt" data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[2].__text"
                                    placeholder="Alternate main title (eg, translation)"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.title_alt_sub">Alternate subtitle:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.monogr.title_alt_sub_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[3]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.monogr.title_asArray[3].__title"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.monogr.title_alt_sub" data-ng-model="SourceService.content.biblStruct.monogr.title_asArray[3].__text"
                                    placeholder="Alternate subtitle (eg, translation)"/>
                            </div>
                        </div>
                        <div data-os-array-input="SourceService.content.biblStruct.monogr.author_asArray" 
                            data-placeholder="Author"
                            data-label="Authors"
                            data-name="biblStruct.monogr.author"
                            data-child="name"/>
                        <div data-os-array-input="SourceService.content.biblStruct.monogr.editor_asArray" 
                            data-placeholder="Editor"
                            data-label="Editors"
                            data-name="biblStruct.monogr.editor"
                            data-child="name"/>
                        <!-- responsibilities -->
                        <div class="form-group">
                            <label class="col-md-offset-1 control-label" for="biblStruct.monogr.respStmt.name1">Additional Responsibilities for the book</label>
                        </div>
                        <div
                            data-ng-repeat="respStmt in SourceService.content.biblStruct.monogr.respStmt_asArray">
                            <div class="form-group" data-ng-show="$index == 0 || SourceService.content.biblStruct.monogr.respStmt_asArray[$index - 1].name.__text || respStmt.name.__text">
                                <div class="col-md-2">
                                    <select class="form-control"
                                        name="biblStruct.monogr.respStmt.resp_key{{$index}}"
                                        data-ng-model="respStmt.resp._key"
                                        data-ng-required="respStmt.name.__text"
                                        data-ng-options="key as definition for (key, definition) in editor.supportedResponsibilities"
                                        data-ng-change="respStmt.resp.__text = editor.supportedResponsibilities[respStmt.resp._key]"
                                        >
                                         <option value="">-- Responsibility --</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control"
                                        name="biblStruct.monogr.respStmt.name{{$index}}"
                                        data-ng-model="respStmt.name.__text"
                                        placeholder="Name"/>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.edition">Edition</label>
                            <div class="col-md-6">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.edition_asArray[0].__text"
                                    name="biblStruct.monogr.edition" 
                                    placeholder="Edition (eg, 5th)"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.biblScope1">Scope</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.monogr.biblScope_unit"
                                    data-ng-model="SourceService.content.biblStruct.monogr.biblScope_asArray[0]._unit" 
                                    data-ng-required="SourceService.content.biblStruct.monogr.biblScope_asArray[0]._from || SourceService.content.biblStruct.monogr.biblScope_asArray[0]._to"
                                    data-ng-options="code as scope for (code, scope) in editor.monographScopes"/>
                            </div>
                            <label class="control-label col-md-1" for="biblStruct.monogr.biblScope1">from</label>
                            <div class="col-md-1">
                                <input class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.biblScope_asArray[0]._from"
                                    name="biblStruct.monogr.biblScope1"
                                    data-ng-required="SourceService.content.biblStruct.monogr.biblScope_asArray[0]._unit || SourceService.content.biblStruct.monogr.biblScope_asArray[0]._to"
                                    placeholder="From"/>
                            </div>
                            <label class="control-label col-md-1" for="biblStruct.monogr.biblScope2">to</label>
                            <div class="col-md-1">
                                <input class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.biblScope_asArray[0]._to"
                                    name="biblStruct.monogr.biblScope2"
                                    data-ng-required="SourceService.content.biblStruct.monogr.biblScope_asArray[0]._unit || SourceService.content.biblStruct.monogr.biblScope_asArray[0]._from"
                                    placeholder="To"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.imprint.publisher">Publisher</label>
                            <div class="col-md-6">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.imprint.publisher_asArray[0].__text"
                                    name="biblStruct.monogr.imprint.publisher"
                                    data-ng-required="!SourceService.content.biblStruct.monogr.imprint.distributor.name_asArray[0].__text &amp;&amp; !SourceService.content.biblStruct.monogr.imprint.distributor.ref_asArray[0]._target &amp;&amp; !SourceService.content.biblStruct.monogr.imprint.distributor.ref_asArray[0].__text" 
                                    placeholder="Publisher"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.imprint.pubPlace">Publication place</label>
                            <div class="col-md-6">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.imprint.pubPlace_asArray[0].__text"
                                    name="biblStruct.monogr.imprint.pubPlace" 
                                    placeholder="Publication place (eg, Jerusalem, Israel; New York, NY)"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.imprint.date">Publication date</label>
                            <div class="col-md-2">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.imprint.date_asArray[0].__text"
                                    name="biblStruct.monogr.imprint.date"
                                    data-ng-required="SourceService.content.biblStruct.monogr.imprint.publisher_asArray[0].__text"
                                    data-ng-pattern="/^(\d{4}(-[01]\d(-[0-3]\d)?)?)$/"
                                    placeholder="YYYY-MM-DD"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.imprint.distributor.name">Distributor</label>
                            <div class="col-md-6">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.imprint.distributor.name_asArray[0].__text"
                                    data-ng-required="!SourceService.content.biblStruct.monogr.imprint.publisher.__text &amp;&amp; !SourceService.content.biblStruct.monogr.imprint.distributor.ref_asArray[0].__text"
                                    name="biblStruct.monogr.imprint.distributor.name" 
                                    placeholder="Offline distributor"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.monogr.imprint.distributor.ref">Distributor website</label>
                            <div class="col-md-6">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.imprint.distributor.ref_asArray[0].__text"
                                    name="biblStruct.monogr.imprint.distributor.ref" 
                                    data-ng-required="(!SourceService.content.biblStruct.monogr.imprint.distributor.name_asArray[0].__text &amp;&amp; !SourceService.content.biblStruct.monogr.imprint.publisher_asArray[0].__text) || SourceService.content.biblStruct.monogr.imprint.distributor.ref_asArray[0]._target"
                                    placeholder="Online distributor website title"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-6 col-md-offset-2">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.imprint.distributor.ref_asArray[0]._target"
                                    name="biblStruct.monogr.imprint.distributor.ref._target" 
                                    data-ng-required="SourceService.content.biblStruct.monogr.imprint.distributor.ref_asArray[0].__text"
                                    placeholder="Distributor URL (eg, http://www.example.com/x/y/z)"
                                    />
                            </div>
                            <div class="col-md-2">
                                <input
                                    class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.monogr.imprint.distributor.date_asArray[0].__text"
                                    name="biblStruct.monogr.imprint.distributor.date" 
                                    data-ng-pattern="/^\d{4}-[01]\d-[0-3]\d$/"
                                    placeholder="Access date (YYYY-MM-DD)"
                                    />
                            </div>
                        </div>
                    </fieldset>
                    <fieldset data-ng-show="SourceService.isSeries">
                        <legend>Series</legend>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.series.title_main">Series title:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.series.title_main_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.series.title_asArray[0]['_xml:lang']" 
                                    data-ng-required="SourceService.isSeries"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.series.title_main" data-ng-model="SourceService.content.biblStruct.series.title_asArray[0].__text"
                                    placeholder="Main series title" data-ng-required="SourceService.isSeries"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.series.title_sub">Series subtitle:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.series.title_sub_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.series.title_asArray[1]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.series.title_asArray[1].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.series.title_sub" data-ng-model="SourceService.content.biblStruct.series.title_asArray[1].__text"
                                    placeholder="Series subtitle"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.series.title_sub">Series alternate title:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.series.title_alt_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.series.title_asArray[2]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.series.title_asArray[2].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.series.title_alt" data-ng-model="SourceService.content.biblStruct.series.title_asArray[2].__text"
                                    placeholder="Alternate series main title (eg, translation)"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="biblStruct.series.title_sub">Series alternate subtitle:</label>
                            <div class="col-md-2">
                                <select 
                                    class="form-control"
                                    name="biblStruct.series.title_alt_sub_xmlLang"
                                    data-ng-model="SourceService.content.biblStruct.series.title_asArray[3]['_xml:lang']" 
                                    data-ng-required="SourceService.content.biblStruct.series.title_asArray[3].__text"
                                    data-ng-options="code as language.toString() for (code, language) in LanguageService.supportedLanguages"/>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control" name="biblStruct.series.title_alt_sub" data-ng-model="SourceService.content.biblStruct.series.title_asArray[3].__text"
                                    placeholder="Alternate series subtitle (eg, translation)"/>
                            </div>
                        </div>
                        <!-- Do series have authors or just editors?
                        <div data-os-array-input="SourceService.content.biblStruct.series.author_asArray" 
                            data-placeholder="Series Author"
                            data-label="Series authors"
                            data-name="biblStruct.series.author"
                            data-child="name"/>
                        -->
                        <div data-os-array-input="SourceService.content.biblStruct.series.editor_asArray" 
                            data-placeholder="Series Editor"
                            data-label="Series Editors"
                            data-name="biblStruct.series.editor"
                            data-child="name"/>
                        <!-- responsibilities -->
                        <div class="form-group">
                            <label class="col-md-offset-1 control-label" for="biblStruct.series.respStmt.name1">Additional Responsibilities for the series</label>
                        </div>
                        <div
                            data-ng-repeat="respStmt in SourceService.content.biblStruct.series.respStmt_asArray">
                            <div class="form-group" data-ng-show="$index == 0 || SourceService.content.biblStruct.series.respStmt_asArray[$index - 1].name.__text || respStmt.name.__text">
                                <div class="col-md-2">
                                    <select class="form-control"
                                        name="biblStruct.series.respStmt.resp_key{{$index}}"
                                        data-ng-model="respStmt.resp._key"
                                        data-ng-required="respStmt.name.__text"
                                        data-ng-options="key as definition for (key, definition) in editor.supportedResponsibilities"
                                        data-ng-change="respStmt.resp.__text = editor.supportedResponsibilities[respStmt.resp._key]">
                                         <option value="">-- Responsibility --</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control"
                                        name="biblStruct.series.respStmt.name{{$index}}"
                                        data-ng-model="respStmt.name.__text"
                                        placeholder="Name"/>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <fieldset>
                        <legend>Notes</legend>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="biblStruct.note">Optional descriptive comments about the source that not covered in other fields:</label>
                            <div class="col-md-6">
                                <textarea
                                    class="form-control" 
                                    placeholder="Note."
                                    data-ng-model="SourceService.content.biblStruct.note_asArray[1].__text"
                                    name="biblStruct.note"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="biblStruct.note_copyright.note">Copyright note.</label>
                            <div class="col-md-6">
                                <textarea
                                    class="form-control" 
                                    placeholder="Note about licensing or copyright status, if necessary"
                                    data-ng-model="SourceService.content.biblStruct.note_asArray[0].note.__text"
                                    name="biblStruct.note_copyright.note"
                                    />
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="control-label col-md-2" for="biblStruct.note.ref" class="span2">License name/URL:</label>
                            <div class="col-md-4">
                                <input class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.note.ref.__text"
                                    data-ng-required="SourceService.content.biblStruct.note.ref._target"
                                    name="biblStruct.note.ref"
                                    placeholder="Name of copyright license"
                                    />
                            </div>
                            <div class="col-md-5">
                                <input class="form-control"
                                    data-ng-model="SourceService.content.biblStruct.note.ref._target"
                                    name="biblStruct.note.ref._target"
                                    data-ng-required="SourceService.content.biblStruct.note.ref.__text"
                                    placeholder="URL of license (eg, http://www.creativecommons.org/publicdomain/zero/1.0)"
                                    />
                            </div>
                        </div>
                    </fieldset>
                    <fieldset>
                        <legend>Transcription source</legend>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="biblStruct.idno._target">Location of scanned book</label>
                            <div class="col-md-2">
                                <select
                                    class="form-control" 
                                    data-ng-model="SourceService.content.biblStruct.idno._type">
                                    <option value="">-- Select --</option>
                                    <option value="uri">URL</option>
                                    <option value="archive.org">Internet Archive</option>
                                    <option value="books.google.com">Google Books</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <input class="form-control"
                                    name="biblStruct.idno.__text"
                                    data-ng-model="SourceService.content.biblStruct.idno.__text"
                                    placeholder="Archive id"
                                    />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-5" for="biblStruct.idno.helper">Not sure where to find the archive id? Paste the web address of the book on Google Books or Internet Archive here</label>
                            <div class="col-md-6">
                                <input class="form-control"
                                    name="biblStruct.idno.helper"
                                    data-ng-model="editor.archiveIdHelper.url"
                                    data-ng-change="editor.archiveIdHelper.setArchiveId()"
                                    placeholder="https://books.google.com/xxxx or http://archive.org/details/..."
                                    />
                            </div>
                            <div class="col-md-2">
                                <p data-ng-show="editor.archiveIdHelper.error" class="alert-danger">{{editor.archiveIdHelper.error}}</p>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
    </div>
    <os-open-dialog api="'/api/data/sources'" 
        title="Open Source" name="openDialog"
        on-ok="editor.openDocument" on-close="editor.dialogCancel"></os-open-dialog>
</div>
